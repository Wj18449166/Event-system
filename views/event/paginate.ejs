<!--search.ejs-->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
            <a class="nav-item nav-link active" href="http://localhost:1337">Home <span class="sr-only">(current)</span></a>
            <a class="nav-item nav-link active" href="/Event/search"  >Search</a>
            <a class="nav-item nav-link " href="/Event/create">Create</a>
            <a class="nav-item nav-link " href="/Event/admin">Admin</a>
        </div>
    </div>
</nav>
<div class="jumbotron jumbotron-fluid">
    <div class="container">
        <h1 class="display-4">Event Management System</h1>
        <p class="lead">HKBU Event Management System is a web-based system for department and student
            societies to boardcast events and activities as well as registration.
        </p>
    </div>
</div>


<!-- 日期范围问题  显示请选择一个的问题-->
<% const current = parseInt(req.query.page) || 1; %>

<nav aria-label="Page navigation example">
    <ul class="pagination">
        <li class="page-item">
            <a class="page-link" href="/event/searchResult/?page=<%= Math.max(current-1, 1) %>">Previous</a>
        </li>
        <% for (i = 1; i <= count; i++) { %>
        <li class="page-item">
            <a class="page-link" href="/event/searchResult/?page=<%= i %>">
                <%= i %></a></li>
        <% } %>
        <li class="page-item">
            <a class="page-link" href="/event/searchResult/?page=<%= Math.min(current+1, count) %>">Next</a>
        </li>
    </ul>
</nav>

<div class="row">
    <div class="card col-sm-8 col-lg-8 col-xl-8">
        <div class="row">
            <% events.forEach( function(model) { %>
            <div class="card col-sm-6 col-lg-6 col-xl-6">
                <img class="img-fluid img-thumbnail" src=<%=model.imgURL %> />
                <a href="/Event/detail/<%=model.id %>" class="card-link">
                    <%= model.name %></a>
                <%= model.shortDes %>
            </div>
            <% }); %>
        </div>

    </div>

    <div class="col-sm-4 col-lg-4 col-xl-4">
        <form action="/Event/search" method="GET">
            <label>Event name</label>
            <input type="text" , class="form-control" name="name">
            <br>

            <div>
                <label>Organizer</label>
                <div>
                    <!-- <select class="selectpicker show-tick form-control" data-width="250px" data-live-search="true" name="Event[organizer]"> -->
                    <select class="selectpicker form-control" data-width="250px" data-live-search="true" name="organizer">
                        <!-- <select class="selectpicker" name="Event[organizer]"> -->
                        <option></option>
                        <option>ABC</option>
                        <option>ACB</option>
                    </select>
                </div>
                <br>
            </div>

            <label>Start Date</label>
            <div><input type="text" class="datepicker selectpicker show-tick form-control" name="startDate" /></div><br>

            <label>End Date</label>
            <div><input type="text" class="datepicker selectpicker show-tick form-control" name="endDate" /></div><br>

            <div>
                <label>Venue</label>
                <div>
                    <select class="selectpicker form-control" data-width="250px" data-live-search="true" name="venue">
                        <option></option>
                        <option>Kowloon</option>
                        <option>N.T</option>
                        <option>Hong Kong Island</option>
                    </select>
                </div>
                <br>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>


    </div>
</div>
<script>
    function reload() {
        swhere ={};
    };

</script>